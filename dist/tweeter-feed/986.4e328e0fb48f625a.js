"use strict";(self.webpackChunktweeter_feed=self.webpackChunktweeter_feed||[]).push([[986],{986:(j,u,a)=>{a.r(u),a.d(u,{TweetListModule:()=>R});var c=a(895),h=a(22),e=a(256),l=a(135);let d=(()=>{class n{constructor(){this.searchQuerySubject=new l.X(""),this.searchQueryObs=this.searchQuerySubject.asObservable()}get searchQuery(){return this.searchQuerySubject.value}setsearchQuery(t){this.searchQuerySubject.next(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),w=(()=>{class n{constructor(t){this.searchService=t}ngOnInit(){}onSearch(t){const r=String(t.target.value);this.searchService.setsearchQuery(r)}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(d))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-search"]],decls:1,vars:0,consts:[["type","text","placeholder","@nameHandle or name",3,"input"]],template:function(s,r){1&s&&(e.TgZ(0,"input",0),e.NdJ("input",function(p){return r.onSearch(p)}),e.qZA())},styles:["input[_ngcontent-%COMP%]{border-radius:15px;border:2px solid #bcc9d4}"]})}return n})();let f=(()=>{class n{constructor(){this.currentPageSubject=new l.X(1),this.totalPagesSubject=new l.X(1),this.recordsPerPageSubject=new l.X(6),this.currentPageObs=this.currentPageSubject.asObservable(),this.totalPagesObs=this.totalPagesSubject.asObservable(),this.recordsPerPageObs=this.recordsPerPageSubject.asObservable(),this.totalRecords=0}get currentPage(){return this.currentPageSubject.value}get totalPages(){return this.totalPagesSubject.value}get recordsPerPage(){return this.recordsPerPageSubject.value}setCurrentPage(t){this.currentPageSubject.next(t)}setTotalRecords(t){this.totalRecords=t,this.updateTotalPages()}setRecordsPerPage(t){this.recordsPerPageSubject.next(t),this.updateTotalPages()}updateTotalPages(){const t=Math.ceil(this.totalRecords/this.recordsPerPage);this.totalPagesSubject.next(t)}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function _(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(){const i=e.CHM(t).$implicit,p=e.oxw();return e.KtG(p.onPageChange(i))}),e._uU(1),e.qZA()}if(2&n){const t=o.$implicit,s=e.oxw();e.ekj("active",t===s.currentPage),e.xp6(1),e.Oqu(t)}}let m=(()=>{class n{constructor(t){this.paginationService=t,this.pages=[],this.currentPage=1,this.totalPages=1,this.recordsPerPage=6}ngOnInit(){this.paginationService.currentPageObs.subscribe(t=>{this.currentPage=t,this.updatePages()}),this.paginationService.totalPagesObs.subscribe(t=>{this.totalPages=t,this.updatePages()}),this.paginationService.recordsPerPageObs.subscribe(t=>{this.recordsPerPage=t,this.updatePages()})}onPageChange(t){this.paginationService.setCurrentPage(t)}onRecordsPerPageChange(t){const r=Number(t.target.value);r>0&&(this.paginationService.setRecordsPerPage(r),this.updatePages())}updatePages(){this.pages=Array.from({length:this.totalPages},(t,s)=>s+1)}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(f))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-pagination"]],decls:10,vars:2,consts:[[1,"post-per-page"],["for","postsPerPage"],["type","number","id","postsPerPage",3,"value","input"],[1,"page-numbers"],["class","page-link",3,"active","click",4,"ngFor","ngForOf"],[1,"page-link",3,"click"]],template:function(s,r){1&s&&(e.TgZ(0,"h3"),e._uU(1,"Number post/page"),e.qZA(),e.TgZ(2,"div",0)(3,"label",1),e._uU(4,"No. of posts per page:"),e.qZA(),e.TgZ(5,"input",2),e.NdJ("input",function(p){return r.onRecordsPerPageChange(p)}),e.qZA()(),e.TgZ(6,"h3"),e._uU(7,"Pages:"),e.qZA(),e.TgZ(8,"div",3),e.YNc(9,_,2,3,"a",4),e.qZA()),2&s&&(e.xp6(5),e.Q6J("value",r.recordsPerPage),e.xp6(4),e.Q6J("ngForOf",r.pages))},dependencies:[c.sg],styles:[".page-numbers[_ngcontent-%COMP%]{display:flex;gap:10px}.page-numbers[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:5px 10px;border:1px solid #ccc;border-radius:50px;background-color:#cfdae7;text-decoration:none;cursor:pointer;color:#000;font-weight:600}.page-numbers[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#385f80;color:#fff}label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}#postsPerPage[_ngcontent-%COMP%]{width:45px;flex:grow 1;margin-left:5px;height:27px;margin-top:11px}.post-per-page[_ngcontent-%COMP%]{display:flex;align-items:center}"]})}return n})();var b=a(529);let x=(()=>{class n{constructor(t){this.http=t,this.apiUrl="assets/json"}get(t){return this.http.get(`${this.apiUrl}/${t}`)}static#e=this.\u0275fac=function(s){return new(s||n)(e.LFG(b.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),T=(()=>{class n{constructor(t){this.baaseServices=t}getTweets(){return this.baaseServices.get("data.json")}static#e=this.\u0275fac=function(s){return new(s||n)(e.LFG(x))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),C=(()=>{class n{transform(t){return t?t.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,'<a href="$1" target="_blank">$1</a>').replace(/(^|\s)(#[a-z\d-]+)/gi,'$1<a href="https://twitter.com/hashtag/$2" target="_blank">$2</a>').replace(/(^|\s)(@[a-z\d-]+)/gi,'$1<a href="https://twitter.com/$2" target="_blank">$2</a>'):t}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275pipe=e.Yjl({name:"linkify",type:n,pure:!0})}return n})();function v(n,o){if(1&n&&(e.TgZ(0,"label",12),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("",t.retweeted_status.user.name," Retweeted")}}function y(n,o){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"img",13),e.NdJ("error",function(){e.CHM(t);const r=e.oxw().$implicit,i=e.oxw();return e.KtG(i.showDefaultImage(r.user))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.user.profile_image_url,e.LSH)}}function S(n,o){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit,s=e.oxw();e.xp6(1),e.Oqu(s.getInitials(t.user.name))}}function O(n,o){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,v,2,1,"label",2),e.TgZ(2,"div",3)(3,"div",4)(4,"div",5),e.YNc(5,y,2,1,"ng-container",6),e.YNc(6,S,2,1,"ng-template",null,7,e.W1O),e.qZA(),e.TgZ(8,"label",8),e._uU(9),e.TgZ(10,"a",9),e._uU(11),e.qZA(),e._uU(12,") "),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"p",11),e.ALo(15,"linkify"),e.qZA()()()),2&n){const t=o.$implicit,s=e.MAs(7);e.ekj("retweet",t.retweeted_status),e.xp6(1),e.Q6J("ngIf",t.retweeted_status),e.xp6(4),e.Q6J("ngIf",t.user.profile_image_url)("ngIfElse",s),e.xp6(4),e.hij(" ",t.user.name,"("),e.xp6(1),e.Q6J("href","https://twitter.com/"+t.user.screen_name,e.LSH),e.xp6(1),e.hij("@",t.user.screen_name,""),e.xp6(3),e.Q6J("innerHTML",e.lcZ(15,9,t.text),e.oJD)}}let Z=(()=>{class n{constructor(t,s,r){this.tweetService=t,this.paginationService=s,this.searchService=r,this.tweets=[],this.displayedTweets=[],this.showRetweetsOnly=!1,this.filteredTweets=[],this.searchQuery="",this.showRetweets=!1}ngOnInit(){this.loadTweet(),this.paginationService.currentPageObs.subscribe(()=>{this.updateDisplayedTweets()}),this.paginationService.recordsPerPageObs.subscribe(()=>{this.updateDisplayedTweets()}),this.searchService.searchQueryObs.subscribe(t=>{this.onSearchChange(t)})}loadTweet(){this.tweetService.getTweets().subscribe(t=>{this.tweets=t,this.filterTweets()})}updateDisplayedTweets(){const s=this.paginationService.recordsPerPage,r=(this.paginationService.currentPage-1)*s;this.displayedTweets=this.filteredTweets.slice(r,r+s)}getInitials(t){return t?t.split(" ").map(r=>r[0]).join("").toUpperCase():""}onShowRetweetsChange(t){this.showRetweetsOnly=t,this.paginationService.setCurrentPage(1),this.filterTweets()}filterTweets(){let t=this.tweets;if(this.showRetweetsOnly&&(t=t.filter(s=>s.retweeted_status)),this.searchQuery){const s=this.searchQuery.toLowerCase();t=t.filter(r=>r.user.name.toLowerCase().includes(s)||r.user.screen_name.toLowerCase().includes(s)||r.retweeted_status&&r.retweeted_status.user.name.toLowerCase().includes(s)||r.retweeted_status&&r.retweeted_status.user.screen_name.toLowerCase().includes(s))}this.filteredTweets=t,this.paginationService.setTotalRecords(this.filteredTweets.length),this.updateDisplayedTweets()}onSearchChange(t){this.searchQuery=t,this.paginationService.setCurrentPage(1),this.filterTweets()}ngOnChanges(t){this.onShowRetweetsChange(t.showRetweets.currentValue)}showDefaultImage(t){t.profile_image_url="assets/images/noImage.png"}static#e=this.\u0275fac=function(s){return new(s||n)(e.Y36(T),e.Y36(f),e.Y36(d))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-feed"]],inputs:{showRetweets:"showRetweets"},features:[e.TTD],decls:2,vars:1,consts:[[1,"tweets"],[3,"retweet",4,"ngFor","ngForOf"],["class","retweet-label",4,"ngIf"],[1,"row"],[1,"tweet-user"],[1,"initials-avatar"],[4,"ngIf","ngIfElse"],["showName",""],[1,"user-info"],["target","_blank",1,"screen_name",3,"href"],[1,"tweet-content"],[3,"innerHTML"],[1,"retweet-label"],["height","40","width","40",3,"src","error"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0),e.YNc(1,O,16,11,"div",1),e.qZA()),2&s&&(e.xp6(1),e.Q6J("ngForOf",r.displayedTweets))},dependencies:[c.sg,c.O5,C],styles:[".row[_ngcontent-%COMP%]{padding:10px;background-color:#fff;margin:20px;border-radius:7px}.tweet-user[_ngcontent-%COMP%]{display:flex;align-items:center}.tweets[_ngcontent-%COMP%]{width:100%}.tweet-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:10px 0 0 45px;font-size:15px;line-height:1.6;margin-bottom:10px;font-weight:300}.retweet[_ngcontent-%COMP%]{border-top:1px solid #d8dce1;padding-top:10px}.retweet[_ngcontent-%COMP%]   .retweet-label[_ngcontent-%COMP%]{padding-left:20px}.initials-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background-color:#ce5c54ea;color:#fff;border-radius:50%;display:flex;justify-content:center;align-items:center;font-size:20px;margin-right:10px}label[_ngcontent-%COMP%]{color:#000;font-weight:700}.screen_name[_ngcontent-%COMP%]{color:#000;text-decoration:none}"]})}return n})();const M=[{path:"",component:(()=>{class n{constructor(){this.showRetweets=!1}onShowRetweetsChange(t){this.showRetweets=t}static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-tweet-home"]],decls:20,vars:1,consts:[[1,"container"],[1,"left-panel"],[1,"row"],[1,"row","filter-section"],[1,"row","filter-options"],["type","radio","name","tweetFilter","checked","",3,"change"],["type","radio","name","tweetFilter",3,"change"],[1,"row","pagination"],[1,"right-panel"],[3,"showRetweets"]],template:function(s,r){1&s&&(e.TgZ(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h3"),e._uU(4,"Tweets Filter"),e.qZA()(),e.TgZ(5,"div",3),e._UZ(6,"app-search"),e.qZA(),e.TgZ(7,"div",4)(8,"h3"),e._uU(9,"Show only"),e.qZA(),e.TgZ(10,"label")(11,"input",5),e.NdJ("change",function(){return r.onShowRetweetsChange(!1)}),e.qZA(),e._uU(12," All tweets"),e.qZA(),e.TgZ(13,"label")(14,"input",6),e.NdJ("change",function(){return r.onShowRetweetsChange(!0)}),e.qZA(),e._uU(15," Retweeted tweets "),e.qZA()(),e.TgZ(16,"div",7),e._UZ(17,"app-pagination"),e.qZA()(),e.TgZ(18,"main",8),e._UZ(19,"app-feed",9),e.qZA()()),2&s&&(e.xp6(19),e.Q6J("showRetweets",r.showRetweets))},dependencies:[w,m,Z],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin:20px}.left-panel[_ngcontent-%COMP%]{flex:0 0 20%;background-color:#fff;padding:10px;margin-right:20px;border-radius:5px;height:500px}.left-panel[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{background-color:#fff;margin:15px}.filter-options[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px;margin-left:10px}.right-panel[_ngcontent-%COMP%]{flex:0 0 60%;background-color:#e8f0f8;border:1px solid #d8e4ee;padding:10px 0}@media (max-width: 768px){.container[_ngcontent-%COMP%]{flex-direction:column}.left-panel[_ngcontent-%COMP%], .right-panel[_ngcontent-%COMP%]{flex:1 1 auto;width:100%}.left-panel[_ngcontent-%COMP%]{height:auto}}"]})}return n})()}];let A=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[h.Bz.forChild(M),h.Bz]})}return n})(),F=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.ez]})}return n})(),R=(()=>{class n{static#e=this.\u0275fac=function(s){return new(s||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[c.ez,A,F]})}return n})()}}]);